# Модуль на 16 Входов\выходов c опторазвязкой E3-2E 16IO
<img src="/MainBoard/images/Shield_3.png" width="600">

Самый простой модуль расширения, на 16 бинарный входов\выходов, с возможностью подтяжки внешним резистором, размером 1\2.
В корпус можно поставить одновременно 2 таких модуля, либо в дополнении к любому модулю размером 1\2, например [Shield 5M] или [Shield 12+4IO](/Shield%2012%2B4IO)

Подходит для подключение бинарных датчиков, и кнопок. 

#### Основные характеристики:
- 16 цифровых портов ввода\вывода с возможностью подтяжки внешним резистором на 10к
- Для работы использует порт I2c-Shiled c основной платы. 
- Размер 1\2. Возможно использовать несколько одновременно, в том числе совмещая с другими модулями подобного формата

*Подтяжка внешним резистором нужна для стабильной работы датчиков и кнопок\включателей на больших расстояниях.*

 
<img src="/Shield%2016IO/PCB.png" width="600">
Некоторые пояснения.

- С7, С12 - Клемники используемые сверху, порты ввода\вывода, с подтяжкой резистором 10к
- С5, С6 - Клемники с подключаемой опторазвязкой. 
- C13-C20 - Клемники для для реле. 

Адресация I2c
- Блок с пинами ввода\вывода имеет адрес 0x23
- Блок с реле - адрес 0x20
 

Перейдем к сборке. 
### Схемотехника
<img src="/Shield%2016IO/Schematic_E3-2E-16IO.png" width="1000">

***

Размеры и тип компонентов:
- U1-U2 - PCF8574T 8 канальные расширители портов [Ali](https://aliexpress.ru/item/32964941533.html),[ChipDip](https://www.chipdip.ru/product/pcf8574t-3)
- R - Резисторы номиналом 10к, размерность 0805 [Ali](https://aliexpress.ru/item/4000095368506.html),[ChipDip]
- С - Лучше всего использовать 2 клемника по 9 пинов, 2,54. [Ali](https://aliexpress.ru/item/1005001894448937.html),[ChipDip]
- J - Гребенка из 2х пинов 2,54 [Ali](https://aliexpress.ru/item/32519474531.html?&sku_id=57443157216),[ChipDip]
- I2c-Shield - Порт "мама" для гребенки из 5 пинов 2,54 [Ali],[ChipDip]



Для заказа компонентов: [Файл BOM](/MainBoard)

### Вариации при сборке:
Можно несколько упростить схему, если: 
- Не нужна подтяжка? Убираем все R, кроме R1,R3,R4,R5 (они используются для адресации I2c) и все J

***

### Прошивка EspHome
Примеры конфигурационных файлов под эту плату ниже: 
- Раз
- Два

### Сборка платы
При пайке, у новичков могут быть сложности из-за использования smd компонентов в размерности 0805 и плотности их расположения.

Сначала паять микросхемы, потом резисторы, потом уже все остальное. Реле что бы не мешалось паяется в самом конце. 

